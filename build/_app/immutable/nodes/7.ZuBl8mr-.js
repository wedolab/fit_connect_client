var $=Object.defineProperty;var tt=(n,t,e)=>t in n?$(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var N=(n,t,e)=>tt(n,typeof t!="symbol"?t+"":t,e);import{s as et,n as z,r as Z,o as lt,t as st}from"../chunks/scheduler.DDze8oZP.js";import{S as at,i as nt,e as b,s as w,f as m,l as H,g as E,o as S,j as T,r as x,w as V,h as L,p as o,B as M,v as B,k as F,n as J,q as rt}from"../chunks/index.CKKa1myM.js";import{e as K,u as ot,d as it}from"../chunks/each.vIdmclZQ.js";/* empty css                    */import{g as Q}from"../chunks/entry.BbfxhUOD.js";import{t as ut}from"../chunks/targetStore.D95NL_Br.js";class R{constructor(t,e,l){N(this,"id");N(this,"subtarget");N(this,"value");this.id=t,this.subtarget=e,this.value=l}}class ct{constructor(t,e,l){N(this,"id");N(this,"goal");N(this,"subTargets");this.id=t,this.goal=e,this.subTargets=l}}function G(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,e=n=="x"?t:t&3|8;return e.toString(16)})}function W(n,t,e){const l=n.slice();return l[10]=t[e],l[11]=t,l[12]=e,l}function X(n){let t,e=[],l=new Map,v=K(n[0].subTargets);const u=a=>a[10].id;for(let a=0;a<v.length;a+=1){let r=W(n,v,a),s=u(r);l.set(s,e[a]=Y(s,r))}return{c(){t=b("div");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=m(a,"DIV",{class:!0});var r=H(t);for(let s=0;s<e.length;s+=1)e[s].l(r);r.forEach(T),this.h()},h(){x(t,"class","dark container svelte-3337pw")},m(a,r){L(a,t,r);for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(t,null)},p(a,r){r&5&&(v=K(a[0].subTargets),e=ot(e,r,u,1,a,v,l,t,it,Y,null,W))},d(a){a&&T(t);for(let r=0;r<e.length;r+=1)e[r].d()}}}function Y(n,t){let e,l,v,u=t[12]+1+"",a,r,s,y,_,c='<img src="./trash.svg" alt="Delete" class="svelte-3337pw"/>',d,U,D;function I(){t[6].call(s,t[11],t[12])}function k(){return t[7](t[10])}return{key:n,first:null,c(){e=b("div"),l=b("label"),v=F("Small Step "),a=F(u),r=w(),s=b("input"),y=w(),_=b("button"),_.innerHTML=c,d=w(),this.h()},l(C){e=m(C,"DIV",{class:!0});var h=H(e);l=m(h,"LABEL",{});var p=H(l);v=J(p,"Small Step "),a=J(p,u),p.forEach(T),r=S(h),s=m(h,"INPUT",{type:!0,class:!0}),y=S(h),_=m(h,"BUTTON",{class:!0,"data-svelte-h":!0}),E(_)!=="svelte-1chlpre"&&(_.innerHTML=c),d=S(h),h.forEach(T),this.h()},h(){x(s,"type","text"),x(s,"class","input svelte-3337pw"),x(_,"class","icon-button svelte-3337pw"),x(e,"class","subTarget-container svelte-3337pw"),this.first=e},m(C,h){L(C,e,h),o(e,l),o(l,v),o(l,a),o(e,r),o(e,s),M(s,t[10].subtarget),o(e,y),o(e,_),o(e,d),U||(D=[B(s,"input",I),B(_,"click",k)],U=!0)},p(C,h){t=C,h&1&&u!==(u=t[12]+1+"")&&rt(a,u),h&1&&s.value!==t[10].subtarget&&M(s,t[10].subtarget)},d(C){C&&T(e),U=!1,Z(D)}}}function ht(n){let t,e,l="Let's plan our goal.",v,u,a="And all the small steps.",r,s,y,_,c,d,U="Add sub Goal",D,I,k,C="Save Goal",h,p,A="На главную",O,P,f=n[0].subTargets.length>0&&X(n);return{c(){t=b("div"),e=b("h2"),e.textContent=l,v=w(),u=b("h4"),u.textContent=a,r=w(),s=b("input"),y=w(),f&&f.c(),_=w(),c=b("div"),d=b("button"),d.textContent=U,D=w(),I=b("div"),k=b("button"),k.textContent=C,h=w(),p=b("button"),p.textContent=A,this.h()},l(g){t=m(g,"DIV",{class:!0});var i=H(t);e=m(i,"H2",{"data-svelte-h":!0}),E(e)!=="svelte-7udpch"&&(e.textContent=l),v=S(i),u=m(i,"H4",{"data-svelte-h":!0}),E(u)!=="svelte-p9dmmr"&&(u.textContent=a),r=S(i),s=m(i,"INPUT",{type:!0,class:!0,placeholder:!0}),y=S(i),f&&f.l(i),_=S(i),c=m(i,"DIV",{class:!0});var j=H(c);d=m(j,"BUTTON",{class:!0,"data-svelte-h":!0}),E(d)!=="svelte-zxdmac"&&(d.textContent=U),j.forEach(T),D=S(i),I=m(i,"DIV",{class:!0});var q=H(I);k=m(q,"BUTTON",{class:!0,"data-svelte-h":!0}),E(k)!=="svelte-195z6ne"&&(k.textContent=C),q.forEach(T),i.forEach(T),h=S(g),p=m(g,"BUTTON",{style:!0,"data-svelte-h":!0}),E(p)!=="svelte-72mjuh"&&(p.textContent=A),this.h()},h(){x(s,"type","text"),x(s,"class","dark form-input svelte-3337pw"),x(s,"placeholder","Our Goal"),x(d,"class","my-button"),x(c,"class","button-container svelte-3337pw"),x(k,"class","my-button"),x(I,"class","button-container svelte-3337pw"),x(t,"class","content svelte-3337pw"),V(p,"position","absolute"),V(p,"top","10px"),V(p,"left","10px")},m(g,i){L(g,t,i),o(t,e),o(t,v),o(t,u),o(t,r),o(t,s),M(s,n[0].goal),o(t,y),f&&f.m(t,null),o(t,_),o(t,c),o(c,d),o(t,D),o(t,I),o(I,k),L(g,h,i),L(g,p,i),O||(P=[B(s,"input",n[5]),B(d,"click",n[1]),B(k,"click",n[3]),B(p,"click",n[4])],O=!0)},p(g,[i]){i&1&&s.value!==g[0].goal&&M(s,g[0].goal),g[0].subTargets.length>0?f?f.p(g,i):(f=X(g),f.c(),f.m(t,_)):f&&(f.d(1),f=null)},i:z,o:z,d(g){g&&(T(t),T(h),T(p)),f&&f.d(),O=!1,Z(P)}}}function dt(n,t,e){let l=new ct(G(),"",[new R(G(),"",0)]);lt(()=>{st().then(()=>{l.subTargets.length>5})});function v(){e(0,l.subTargets=[...l.subTargets,new R(G(),"",0)],l),l.subTargets.length>5}function u(c){e(0,l.subTargets=l.subTargets.filter(d=>d.id!==c),l),l.subTargets.length<=5}function a(){if(l.goal.length===0){alert("Need to add big goal name");return}if(l.subTargets.length<1){alert("Neet to add minimum 1 sub goal");return}ut.update(c=>[...c,l]),Q("/home")}function r(){Q("/home")}function s(){l.goal=this.value,e(0,l)}function y(c,d){c[d].subtarget=this.value,e(0,l)}return[l,v,u,a,r,s,y,c=>u(c.id)]}class xt extends at{constructor(t){super(),nt(this,t,dt,ht,et,{})}}export{xt as component};
