import{s as v,n as h,o as A}from"../chunks/scheduler.BvLojk_z.js";import{S as C,i as x,e as g,b as u,d as c,c as m,s as y,f as S,g as d,h as _,j as k,k as W,l as N,m as P,n as D,o as E}from"../chunks/index.Ctsj23fH.js";function M(f){let t,a="Telegram.WebApp Data:",o,e,n=JSON.stringify(f[1],null,2)+"",s,r,i,w="Send Auth Data",b,T;return{c(){t=m("h2"),t.textContent=a,o=y(),e=m("pre"),s=S(n),r=y(),i=m("button"),i.textContent=w},l(l){t=d(l,"H2",{"data-svelte-h":!0}),_(t)!=="svelte-giequq"&&(t.textContent=a),o=k(l),e=d(l,"PRE",{});var p=W(e);s=N(p,n),p.forEach(c),r=k(l),i=d(l,"BUTTON",{"data-svelte-h":!0}),_(i)!=="svelte-1uv83mc"&&(i.textContent=w)},m(l,p){u(l,t,p),u(l,o,p),u(l,e,p),P(e,s),u(l,r,p),u(l,i,p),b||(T=D(i,"click",f[2]),b=!0)},p(l,p){p&2&&n!==(n=JSON.stringify(l[1],null,2)+"")&&E(s,n)},d(l){l&&(c(t),c(o),c(e),c(r),c(i)),b=!1,T()}}}function O(f){let t,a=`Telegram.WebApp not found. Make sure this script is running within a
        Telegram Mini App.`,o,e,n="d.";return{c(){t=m("p"),t.textContent=a,o=y(),e=m("p"),e.textContent=n},l(s){t=d(s,"P",{"data-svelte-h":!0}),_(t)!=="svelte-1wvdjor"&&(t.textContent=a),o=k(s),e=d(s,"P",{"data-svelte-h":!0}),_(e)!=="svelte-9yy4qe"&&(e.textContent=n)},m(s,r){u(s,t,r),u(s,o,r),u(s,e,r)},p:h,d(s){s&&(c(t),c(o),c(e))}}}function q(f){let t;function a(n,s){return n[0]?M:O}let o=a(f),e=o(f);return{c(){e.c(),t=g()},l(n){e.l(n),t=g()},m(n,s){e.m(n,s),u(n,t,s)},p(n,[s]){o===(o=a(n))&&e?e.p(n,s):(e.d(1),e=o(n),e&&(e.c(),e.m(t.parentNode,t)))},i:h,o:h,d(n){n&&c(t),e.d(n)}}}function j(f,t,a){let o=!1,e=null;const n="https://fitconnect.pythonanywhere.com/clients/auth/",s="e0dd4e64b8a419b6269a952290b7148eb3c288cc";A(()=>{a(0,o=window.Telegram&&window.Telegram.WebApp!==void 0),o?a(1,e=window.Telegram.WebApp):console.error("Telegram.WebApp not found. Make sure this script is running within a Telegram Mini App.")});async function r(){if(o&&s)try{if(!(await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`},body:JSON.stringify(e)})).ok)throw new Error("Network response was not ok");console.log("Data sent successfully!")}catch(i){console.error("Error sending data:",i)}else console.error("Either Telegram.WebApp is not available or API token is missing.")}return[o,e,r]}class U extends C{constructor(t){super(),x(this,t,j,q,v,{})}}export{U as component};
