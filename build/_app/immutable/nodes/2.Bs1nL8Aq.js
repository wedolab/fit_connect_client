import{s as y,n as b,o as I}from"../chunks/scheduler.DDze8oZP.js";import{S as C,i as $,e as v,k as A,f as W,l as S,n as U,j as _,r as N,h as g,p as D,v as O,q as R,a as m,y as B,t as p,z as P,c as k,b as d,m as h,d as w,s as j,x as E,o as z}from"../chunks/index.CKKa1myM.js";/* empty css                    */import{g as L}from"../chunks/entry.BbfxhUOD.js";import{f as V,C as H}from"../chunks/CircularProgressIndicator.D3B-goKO.js";function F(o){let e,n,t,a;return{c(){e=v("button"),n=A(o[0]),this.h()},l(r){e=W(r,"BUTTON",{class:!0});var l=S(e);n=U(l,o[0]),l.forEach(_),this.h()},h(){N(e,"class","my-button svelte-1ye63vk")},m(r,l){g(r,e,l),D(e,n),t||(a=O(e,"click",o[1]),t=!0)},p(r,[l]){l&1&&R(n,r[0])},i:b,o:b,d(r){r&&_(e),t=!1,a()}}}function G(o,e,n){let{buttonTitle:t="Login"}=e,{webAppData:a}=e,{apiUrl:r}=e,{apiToken:l}=e,{onClick:c}=e,{hasUser:s=!0}=e;async function u(){c(),await V(),s?L("/home",{replaceState:!0}):L("/quest",{replaceState:!0})}return o.$$set=i=>{"buttonTitle"in i&&n(0,t=i.buttonTitle),"webAppData"in i&&n(2,a=i.webAppData),"apiUrl"in i&&n(3,r=i.apiUrl),"apiToken"in i&&n(4,l=i.apiToken),"onClick"in i&&n(5,c=i.onClick),"hasUser"in i&&n(6,s=i.hasUser)},[t,u,a,r,l,c,s]}class M extends C{constructor(e){super(),$(this,e,G,F,y,{buttonTitle:0,webAppData:2,apiUrl:3,apiToken:4,onClick:5,hasUser:6})}}function J(o){let e,n,t;return{c(){e=v("h2"),n=A("Welcome, "),t=A(o[0])},l(a){e=W(a,"H2",{});var r=S(e);n=U(r,"Welcome, "),t=U(r,o[0]),r.forEach(_)},m(a,r){g(a,e,r),D(e,n),D(e,t)},p:b,i:b,o:b,d(a){a&&_(e)}}}function K(o,e,n){var l;let{webAppData:t}=e;const a=t==null?void 0:t.initDataUnsafe,r=((l=a==null?void 0:a.user)==null?void 0:l.first_name)??"Undefined";return o.$$set=c=>{"webAppData"in c&&n(1,t=c.webAppData)},[r,t]}class Q extends C{constructor(e){super(),$(this,e,K,J,y,{webAppData:1})}}function X(o){let e,n;return e=new H({}),{c(){k(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,a){h(e,t,a),n=!0},p:b,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Y(o){let e,n,t,a,r,l;e=new Q({props:{webAppData:o[0]}});const c=[x,Z],s=[];function u(i,f){return i[1]?1:0}return t=u(o),a=s[t]=c[t](o),{c(){k(e.$$.fragment),n=j(),a.c(),r=E()},l(i){d(e.$$.fragment,i),n=z(i),a.l(i),r=E()},m(i,f){h(e,i,f),g(i,n,f),s[t].m(i,f),g(i,r,f),l=!0},p(i,f){const q={};f&1&&(q.webAppData=i[0]),e.$set(q);let T=t;t=u(i),t===T?s[t].p(i,f):(P(),m(s[T],1,1,()=>{s[T]=null}),B(),a=s[t],a?a.p(i,f):(a=s[t]=c[t](i),a.c()),p(a,1),a.m(r.parentNode,r))},i(i){l||(p(e.$$.fragment,i),p(a),l=!0)},o(i){m(e.$$.fragment,i),m(a),l=!1},d(i){i&&(_(n),_(r)),w(e,i),s[t].d(i)}}}function Z(o){let e,n;return e=new H({}),{c(){k(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,a){h(e,t,a),n=!0},p:b,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function x(o){let e,n,t,a;return e=new M({props:{webAppData:o[0],apiToken:o[3],apiUrl:o[2],onClick:o[4]}}),t=new M({props:{webAppData:o[0],apiToken:o[3],apiUrl:o[2],hasUser:!1,buttonTitle:"Sign Up",onClick:o[4]}}),{c(){k(e.$$.fragment),n=j(),k(t.$$.fragment)},l(r){d(e.$$.fragment,r),n=z(r),d(t.$$.fragment,r)},m(r,l){h(e,r,l),g(r,n,l),h(t,r,l),a=!0},p(r,l){const c={};l&1&&(c.webAppData=r[0]),e.$set(c);const s={};l&1&&(s.webAppData=r[0]),t.$set(s)},i(r){a||(p(e.$$.fragment,r),p(t.$$.fragment,r),a=!0)},o(r){m(e.$$.fragment,r),m(t.$$.fragment,r),a=!1},d(r){r&&_(n),w(e,r),w(t,r)}}}function ee(o){let e,n,t,a;const r=[Y,X],l=[];function c(s,u){return s[0]!=null?0:1}return n=c(o),t=l[n]=r[n](o),{c(){e=v("div"),t.c(),this.h()},l(s){e=W(s,"DIV",{class:!0});var u=S(e);t.l(u),u.forEach(_),this.h()},h(){N(e,"class","page-container")},m(s,u){g(s,e,u),l[n].m(e,null),a=!0},p(s,[u]){let i=n;n=c(s),n===i?l[n].p(s,u):(P(),m(l[i],1,1,()=>{l[i]=null}),B(),t=l[n],t?t.p(s,u):(t=l[n]=r[n](s),t.c()),p(t,1),t.m(e,null))},i(s){a||(p(t),a=!0)},o(s){m(t),a=!1},d(s){s&&_(e),l[n].d()}}}function te(o,e,n){let t=!1,a=null;const r=void 0,l=void 0;let c=!1;function s(){n(1,c=!0)}return I(()=>{t=window.Telegram&&window.Telegram.WebApp!==void 0,t?n(0,a=window.Telegram.WebApp):console.error("Telegram.WebApp not found. Make sure this script is running within a Telegram Mini App.")}),[a,c,r,l,s]}class oe extends C{constructor(e){super(),$(this,e,te,ee,y,{})}}export{oe as component};
