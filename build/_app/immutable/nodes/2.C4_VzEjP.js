import{s as A,n as h,o as v}from"../chunks/scheduler.BvLojk_z.js";import{S as C,i as x,e as T,b as u,d as c,c as d,s as w,f as S,g as m,h as b,j as y,k as W,l as N,m as D,n as E,o as M}from"../chunks/index.Ctsj23fH.js";function O(p){let e,r="Telegram.WebApp Data:",s,t,n=JSON.stringify(p[1],null,2)+"",i,f,a,g="Send Auth Data",_,k;return{c(){e=d("h2"),e.textContent=r,s=w(),t=d("pre"),i=S(n),f=w(),a=d("button"),a.textContent=g},l(o){e=m(o,"H2",{"data-svelte-h":!0}),b(e)!=="svelte-giequq"&&(e.textContent=r),s=y(o),t=m(o,"PRE",{});var l=W(t);i=N(l,n),l.forEach(c),f=y(o),a=m(o,"BUTTON",{"data-svelte-h":!0}),b(a)!=="svelte-1uv83mc"&&(a.textContent=g)},m(o,l){u(o,e,l),u(o,s,l),u(o,t,l),D(t,i),u(o,f,l),u(o,a,l),_||(k=E(a,"click",p[2]),_=!0)},p(o,l){l&2&&n!==(n=JSON.stringify(o[1],null,2)+"")&&M(i,n)},d(o){o&&(c(e),c(s),c(t),c(f),c(a)),_=!1,k()}}}function P(p){let e,r=`Telegram.WebApp not found. Make sure this script is running within a\r
        Telegram Mini App.`;return{c(){e=d("p"),e.textContent=r},l(s){e=m(s,"P",{"data-svelte-h":!0}),b(e)!=="svelte-1wvdjor"&&(e.textContent=r)},m(s,t){u(s,e,t)},p:h,d(s){s&&c(e)}}}function j(p){let e;function r(n,i){return n[0]?O:P}let s=r(p),t=s(p);return{c(){t.c(),e=T()},l(n){t.l(n),e=T()},m(n,i){t.m(n,i),u(n,e,i)},p(n,[i]){s===(s=r(n))&&t?t.p(n,i):(t.d(1),t=s(n),t&&(t.c(),t.m(e.parentNode,e)))},i:h,o:h,d(n){n&&c(e),t.d(n)}}}function q(p,e,r){let s=!1,t=null;const n=void 0,i=void 0;v(()=>{r(0,s=window.Telegram&&window.Telegram.WebApp!==void 0),s?r(1,t=window.Telegram.WebApp):console.error("Telegram.WebApp not found. Make sure this script is running within a Telegram Mini App.")});async function f(){if(s&&i)try{if(!(await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${i}`},body:JSON.stringify(t)})).ok)throw new Error("Network response was not ok");console.log("Data sent successfully!")}catch(a){console.error("Error sending data:",a)}else console.error("Either Telegram.WebApp is not available or API token is missing.")}return[s,t,f]}class U extends C{constructor(e){super(),x(this,e,q,j,A,{})}}export{U as component};
